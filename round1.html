<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CipherTrace | Round 1</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body>

<video class="video-bg" autoplay muted loop playsinline>
  <source src="video.mp4" type="video/mp4">
</video>
<div class="overlay"></div>

<!-- ENTRY -->
<div class="entry-screen" id="entryScreen">
  <h1>ROUND 1</h1>
  <button onclick="enterRound()">ENTER</button>
</div>

<!-- TIMER -->
<div class="timer-box" id="timer">00:00</div>

<!-- NAVBAR -->
<div class="navbar">
  <span>CIPHERTRACE — ROUND 1: SYSTEM RECOVERY</span>
</div>

<!-- INTRO STORY STEP -->
<div class="section active" id="step-intro">
    <div class="card">
        <span class="timestamp">02:13 IST</span>
        <div class="story-text">
            The Specter did not erase the system. <br>
            They turned it against itself. <br><br>
            What once faced forward now looks back. <br>
            Restore the system’s orientation. <br><br>
            What you see is not wrong — <br>
            it is facing the wrong direction.
        </div>

        <div class="status-box">
            <span class="status-line">SYSTEM STATUS: UNSTABLE</span>
            <span class="status-line">MODULE: CORE_DISPLAY</span>
            <span class="status-line">ERROR: ORIENTATION_MISMATCH</span>
        </div>

        <button class="next-btn" onclick="nextStep('step-intro', 'step-p1')">INITIATE RECOVERY</button>
    </div>
</div>

<!-- PUZZLE 1: SYSTEM TRACE -->
<div class="section" id="step-p1">
  <div class="card">
    <div class="section-title">PUZZLE 1 — SYSTEM TRACE</div>

    <div class="scratch-container">
      <img src="puzzle1word1.jpeg" id="hiddenImage">
      <canvas id="scratchCanvas"></canvas>
    </div>

    <div class="instruction">  Scratch at least 45% to stabilize the system.</div>
    <div class="clue" id="clue" style="display:none;">
  Thala for a reason
</div>


    <div class="answer-box-wrapper">
        <input type="text" class="puzzle-input" id="ans1" placeholder="Enter answer...">
        <button class="submit-answer-btn" onclick="submitPuzzle1()">SUBMIT</button>
    </div>

  </div>
</div>

<!-- STORY CONTEXT BEFORE PUZZLE 2 -->
<section class="section" id="story-bridge">
<div class="card" style="width: 100%; max-width: 900px; background: rgba(10, 14, 18, 0.38); backdrop-filter: blur(16px); border-radius: 28px; padding: 40px; border: 1px solid rgba(0, 255, 255, 0.28); box-shadow: 0 0 40px rgba(0, 255, 255, 0.18); position: relative; overflow: hidden; transition: box-shadow 0.2s ease;">

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">The core interface is stable.</p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">Orientation packets are now aligned.</p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    But during realignment,<br>
    the outbound stream was rerouted.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">Text-based channels failed first.</p>
  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">Only visual packets continued to sync.</p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    The system chose a feed.<br>
    Not a log.<br>
    Not a terminal.<br>
    A feed.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 30px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    This tells participants:<br>
    the system is alive.<br>
    communication is the problem now.
  </p>

  <hr style="margin: 30px 0; opacity: 0.2; border: none; height: 1px; background: linear-gradient(to right, rgba(0, 255, 255, 0.5), rgba(255, 255, 0, 0.5));">

  <h1 style="text-align: center; font-family: 'Orbitron', sans-serif; font-size: clamp(48px, 8vw, 64px); letter-spacing: 6px; color: #00ffff; margin-bottom: 20px; text-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: glitch 2s infinite alternate;">CIPHERTRACE</h1>
  <h2 style="text-align: center; font-family: 'Orbitron', sans-serif; font-size: 24px; letter-spacing: 4px; color: #00ffff; margin-bottom: 20px; text-shadow: 0 0 15px rgba(0, 255, 255, 0.4);">ROUND 1 — SIGNAL ANALYSIS</h2>

  <div style="margin-top: 20px; padding: 12px; border: 1px solid rgba(255, 0, 0, 0.5); background: rgba(255, 0, 0, 0.1); max-width: 320px; margin-left: auto; margin-right: auto; border-radius: 8px; box-shadow: 0 0 15px rgba(255, 0, 0, 0.3); font-family: 'Courier New', monospace; font-size: 0.9rem; color: #ff4d4d; position: relative;">
    <span style="content: '[ERROR] '; color: #ff4d4d; font-weight: bold; position: absolute; top: -10px; left: 10px; background: #000; padding: 2px 5px; border-radius: 8px;"></span>
    <p style="margin-bottom: 5px;"><strong style="color: #ff6666;">MODULE:</strong> SIGNAL_LAYER</p>
    <p style="margin-bottom: 5px;"><strong style="color: #ff6666;">STATUS:</strong> DEGRADED</p>
    <p><strong style="color: #ff6666;">ERROR:</strong> NOISE_OVERFLOW</p>
  </div>
  <button class="next-btn" onclick="nextStep('story-bridge', 'step-p2')">
  INITIATE SIGNAL ANALYSIS
</button>
  <!-- Scanline effect overlay -->
  <div style="content: ''; position: absolute; inset: 0; background: repeating-linear-gradient(to bottom, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 3px); pointer-events: none; opacity: 0.4; animation: scanline 3s linear infinite;"></div>
</div>

<!-- Inline keyframes for animations (add to <style> or head if needed) -->
<style>
@keyframes typeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes glitch { 0% { transform: translateX(0); } 20% { transform: translateX(-2px); } 40% { transform: translateX(2px); } 60% { transform: translateX(-1px); } 80% { transform: translateX(1px); } 100% { transform: translateX(0); } }
@keyframes scanline { 0% { transform: translateY(-100%); } 100% { transform: translateY(100%); } }
</style>
</section>

<!-- PUZZLE 2: INSTAGRAM DISCOVER -->
<div class="section" id="step-p2">
  <div class="card">
    <div class="section-title">PUZZLE 2 — INSTAGRAM DISCOVER</div>

    <div class="instruction">
      <ul>
        <li>Visit our Instagram posts and look beyond captions.</li>
        <li>Identify the single idea that quietly repeats itself.</li>
        <li>When everything else fades into noise, one word still stands.</li>
      </ul>
    </div>


    <div class="answer-box-wrapper">
      <input type="text" class="puzzle-input" id="ans2" placeholder="Enter word...">
      <button class="submit-answer-btn" onclick="submitPuzzle2()">SUBMIT</button>
    </div>
  </div>
</div>


<!-- PUZZLE 3: FRAGMENTED QUOTES -->
 <!-- STORY CONTEXT BEFORE PUZZLE 3 -->
<section class="section" id="story-p3-bridge">
  <div class="card" style="width: 100%; max-width: 900px; background: rgba(10, 14, 18, 0.38); backdrop-filter: blur(16px); border-radius: 28px; padding: 40px; border: 1px solid rgba(0, 255, 255, 0.28); box-shadow: 0 0 40px rgba(0, 255, 255, 0.18); position: relative; overflow: hidden; transition: box-shadow 0.2s ease;">

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">The feed stabilized.</p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    Packets are no longer lost.<br>
    Noise has settled.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    But meaning is not verified in a moment.<br>
    It is verified over time.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    The system logged multiple transmissions.<br>
    Not all at once.<br>
    One after another.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 30px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out; opacity: 0.75;">
    This confirms why the signal is distributed across days.
  </p>

  <hr style="margin: 30px 0; opacity: 0.2; border: none; height: 1px; background: linear-gradient(to right, rgba(0, 255, 255, 0.5), rgba(255, 255, 0, 0.5));">

  <h1 style="text-align: center; font-family: 'Orbitron', sans-serif; font-size: clamp(48px, 8vw, 64px); letter-spacing: 6px; color: #00ffff; margin-bottom: 20px; text-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: glitch 2s infinite alternate;">CIPHERTRACE</h1>
  <h2 style="text-align: center; font-family: 'Orbitron', sans-serif; font-size: 24px; letter-spacing: 4px; color: #00ffff; margin-bottom: 20px; text-shadow: 0 0 15px rgba(0, 255, 255, 0.4);">ROUND 1 — TEMPORAL CONSISTENCY CHECK</h2>

  <div style="margin-top: 20px; padding: 12px; border: 1px solid rgba(0, 255, 255, 0.3); background: rgba(0, 0, 0, 0.7); max-width: 360px; margin-left: auto; margin-right: auto; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 255, 255, 0.2); font-family: 'Courier New', monospace; font-size: 0.9rem; color: #e0e0e0;">
    <p style="margin-bottom: 5px;"><strong style="color: #00ffff;">MODULE:</strong> SEMANTIC_LAYER</p>
    <p style="margin-bottom: 5px;"><strong style="color: #00ffff;">STATE:</strong> MONITORING</p>
    <p><strong style="color: #00ffff;">CHECK:</strong> TIME-BASED CONSISTENCY</p>
  </div>

  <button class="next-btn" onclick="nextStep('story-p3-bridge', 'step-p3')" style="display: block; margin: 20px auto 0; padding: 15px 30px; font-family: 'Orbitron', sans-serif; font-size: 14px; letter-spacing: 2px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.5); background: rgba(0, 255, 255, 0.1); color: #00ffff; cursor: pointer; transition: background 0.2s ease, box-shadow 0.2s ease;">
    BEGIN TEMPORAL ANALYSIS
  </button>

  <!-- Scanline effect overlay -->
  <div style="content: ''; position: absolute; inset: 0; background: repeating-linear-gradient(to bottom, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 3px); pointer-events: none; opacity: 0.4; animation: scanline 3s linear infinite;"></div>
</div>

<!-- Inline keyframes for animations (add to <style> or head if needed) -->
<style>
@keyframes typeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes glitch { 0% { transform: translateX(0); } 20% { transform: translateX(-2px); } 40% { transform: translateX(2px); } 60% { transform: translateX(-1px); } 80% { transform: translateX(1px); } 100% { transform: translateX(0); } }
@keyframes scanline { 0% { transform: translateY(-100%); } 100% { transform: translateY(100%); } }
</style>
</section>

<div class="section" id="step-p3">
  <div class="card">
    <div class="section-title">PUZZLE 3 — FRAGMENTED QUOTES</div>

    <div class="instruction">
      Fragments of quotes are hidden across Instagram posts, highlights, and comments. 
      Across every quote, one word quietly survives every line.
    </div>

    <button class="reveal-btn" id="revealPuzzle3Btn">REVEAL HINT</button>
    <div class="clue" id="puzzle3Clue">A word that survived every line. Find the final five lines.</div>

    <div class="answer-box-wrapper">
        <input type="text" class="puzzle-input" id="ans3" placeholder="Enter word...">
        <button class="next-btn" onclick="nextStep('step-p3', 'story-p4-bridge')">
          SUBMIT
        </button>
    </div>
  </div>
</div>

<!-- PUZZLE 4: AUDIO TRACE -->
 <!-- STORY CONTEXT AFTER PUZZLE 3 -->
<section class="section" id="story-p4-bridge">
  <div class="card" style="width: 100%; max-width: 900px; background: rgba(10, 14, 18, 0.38); backdrop-filter: blur(16px); border-radius: 28px; padding: 40px; border: 1px solid rgba(0, 255, 255, 0.28); box-shadow: 0 0 40px rgba(0, 255, 255, 0.18); position: relative; overflow: hidden; transition: box-shadow 0.2s ease;">

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">The system’s meaning has been verified.</p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    Packets are intact.<br>
    Transmission is stable.<br>
    Intent is consistent.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    Yet the system does not proceed.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
    Something is holding it back.
  </p>

  <p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 30px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out; opacity: 0.75;">
    Everything works.<br>
    Progress is blocked for a different reason.
  </p>

  <hr style="margin: 30px 0; opacity: 0.2; border: none; height: 1px; background: linear-gradient(to right, rgba(0, 255, 255, 0.5), rgba(255, 255, 0, 0.5));">

  <h1 style="text-align: center; font-family: 'Orbitron', sans-serif; font-size: clamp(48px, 8vw, 64px); letter-spacing: 6px; color: #00ffff; margin-bottom: 20px; text-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: glitch 2s infinite alternate;">CIPHERTRACE</h1>
  <h2 style="text-align: center; font-family: 'Orbitron', sans-serif; font-size: 24px; letter-spacing: 4px; color: #00ffff; margin-bottom: 20px; text-shadow: 0 0 15px rgba(0, 255, 255, 0.4);">ROUND 1 — ACCESS CONTROL</h2>

  <div style="margin-top: 20px; padding: 12px; border: 1px solid rgba(255, 0, 0, 0.5); background: rgba(255, 0, 0, 0.1); max-width: 360px; margin-left: auto; margin-right: auto; border-radius: 8px; box-shadow: 0 0 15px rgba(255, 0, 0, 0.3); font-family: 'Courier New', monospace; font-size: 0.9rem; color: #ff4d4d; position: relative;">
    <span style="content: '[ERROR] '; color: #ff4d4d; font-weight: bold; position: absolute; top: -10px; left: 10px; background: #000; padding: 2px 5px; border-radius: 8px;"></span>
    <p style="margin-bottom: 5px;"><strong style="color: #ff6666;">MODULE:</strong> AUTHORIZATION_LAYER</p>
    <p style="margin-bottom: 5px;"><strong style="color: #ff6666;">STATE:</strong> LOCKED</p>
    <p><strong style="color: #ff6666;">REASON:</strong> PENDING_VERIFICATION</p>
  </div>

  <!-- Scanline effect overlay -->
  <div style="content: ''; position: absolute; inset: 0; background: repeating-linear-gradient(to bottom, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 3px); pointer-events: none; opacity: 0.4; animation: scanline 3s linear infinite;"></div>

   <button class="next-btn" onclick="nextStep('story-p4-bridge', 'step-p4')">
      REQUEST ACCESS
    </button>
</div>

<!-- Inline keyframes for animations (add to <style> or head if needed) -->
<style>
@keyframes typeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes glitch { 0% { transform: translateX(0); } 20% { transform: translateX(-2px); } 40% { transform: translateX(2px); } 60% { transform: translateX(-1px); } 80% { transform: translateX(1px); } 100% { transform: translateX(0); } }
@keyframes scanline { 0% { transform: translateY(-100%); } 100% { transform: translateY(100%); } }
</style>
    
   
  
  
</section>

<div class="section" id="step-p4">
  <div class="card">
    <div class="section-title">PUZZLE 4 — AUDIO TRACE</div>

    <div class="instruction">
      The message is hidden within the noise.<br>
      To uncover it, you must reverse the audio and listen carefully.
    </div>

    <div style="text-align: center; margin-top: 20px;">

      <!-- Reveal Button -->
      <button id="revealAudioBtn" style="margin: 20px auto 0; display: block; padding: 15px 30px; font-family: 'Orbitron', sans-serif; font-size: 14px; letter-spacing: 2px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.5); background: rgba(0, 255, 255, 0.1); color: #00ffff; cursor: pointer; transition: background 0.2s ease, box-shadow 0.2s ease;">REVEAL AUDIO</button>

      <!-- Audio Controls (hidden by default) -->
      <div id="audioControls" style="display: none; justify-content: center; gap: 20px; margin-top: 20px;">
        <img id="pauseBtn" src="pause.png" class="audio-icon" alt="Pause" style="width: 32px; height: 32px; cursor: pointer; transition: transform 0.2s ease; padding: 10px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.5); background: rgba(0, 255, 255, 0.1); box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);">
        <img id="resumeBtn" src="resume.png" class="audio-icon" alt="Resume" style="display: none; width: 32px; height: 32px; cursor: pointer; transition: transform 0.2s ease; padding: 10px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.5); background: rgba(0, 255, 255, 0.1); box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);">
        <img id="downloadBtn" src="down.png" class="audio-icon" alt="Download" style="width: 32px; height: 32px; cursor: pointer; transition: transform 0.2s ease; padding: 10px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.5); background: rgba(0, 255, 255, 0.1); box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);">
      </div>

      <!-- Audio Element -->
      <audio id="awaitAudio" src="await.mp3"></audio>

    </div>

    <div class="clue" id="puzzle4Clue">
      Reverse what you hear. The word reveals itself when signal is restored.
    </div>

    <!-- Answer Input -->
    <div class="answer-box-wrapper">
      <input
        type="text"
        class="puzzle-input"
        id="ans4"
        placeholder="Enter word..."
      >
      <button class="next-btn" onclick="nextStep('step-p4', 'story-p5-bridge')">
        SUBMIT
      </button>
    </div>

  </div>
</div>


<!-- STORY CONTEXT BEFORE PUZZLE 5 -->
<div class="section" id="story-p5-bridge">
  <div class="card">

    <div class="section-title" style="font-family: 'Orbitron', sans-serif; font-size: 14px; letter-spacing: 2px; color: #00ffff; margin-bottom: 20px; text-transform: uppercase;">
  PATH RESTORATION & INTEGRITY CHECK
</div>

<p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">Authorization acknowledged.</p>

<p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">
  All system layers are active.<br>
  Nothing is blocked.
</p>

<p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">Yet access is not granted.</p>

<p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;"
  The destination exists.<br>
  The data exists.
</p>

<p style="font-family: 'Courier New', monospace; line-height: 1.6; margin-bottom: 15px; color: #00ff00; font-size: 1rem; background: rgba(0, 0, 0, 0.8); border-left: 4px solid #00ffff; padding: 10px; border-radius: 8px; box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); animation: typeIn 2s ease-out;">Only the path has been disturbed.</p>
<hr style="margin: 30px 0; opacity: 0.2; border: none; border-top: 1px solid rgba(255, 255, 255, 0.2);">

<div style="margin-top: 20px; padding: 12px; border: 1px solid rgba(255, 255, 255, 0.2); max-width: 360px; margin-left: auto; margin-right: auto; background: rgba(0, 0, 0, 0.5); border-radius: 8px; font-family: 'Courier New', monospace; color: #e0e0e0;">
  <p style="margin-bottom: 5px;"><strong style="color: #00ffff;">MODULE:</strong> ACCESS_LAYER</p>
  <p style="margin-bottom: 5px;"><strong style="color: #00ffff;">STATE:</strong> FRAGMENTED</p>
  <p><strong style="color: #ff4d4d;">ERROR:</strong> PATH_ORDER_MISMATCH</p>
</div>

<div class="instruction" style="margin-top: 30px; font-size: 14px; letter-spacing: 1px; color: #9fb0c3; text-align: center; font-family: 'Courier New', monospace; background: rgba(0, 0, 0, 0.7); padding: 10px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.3); box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);">
  <ul style="list-style: none; padding: 0; margin: 0; text-align: left; display: inline-block;">
    <li>Shattered link pieces are hidden in the system.</li>
    <li>Insert the pieces into the placeholders.</li>
    <li>Check status to verify.</li>
  </ul>
</div>

<div style="display:flex; justify-content:center; align-items:center; gap:20px; flex-wrap:wrap;">

  <!-- URL Container -->
  <div id="urlContainer"
    style="margin-top:20px;
           font-family:'Courier New', monospace;
           opacity:0.85;
           text-align:center;
           color:#00ffff;
           font-size:16px;
           letter-spacing:1px;
           padding:15px 20px;
           border:1px solid rgba(0,255,255,0.4);
           border-radius:8px;
           background:rgba(0,0,0,0.5);
           transition:all 0.3s ease;">

    https://drive.google.com/drive/u/0/folders/
    <input type="text" id="frag1" maxlength="4" placeholder="[ ? ]"
      style="width:60px;
             background:rgba(0,0,0,0.3);
             border:1px solid #00ffff;
             color:#00ffff;
             border-radius:4px;
             text-align:center;
             font-family:'Courier New', monospace;
             outline:none;">
    kR2ugPpRXNdHcDqmUoq
    <input type="text" id="frag2" maxlength="4" placeholder="[ ? ]"
      style="width:60px;
             background:rgba(0,0,0,0.3);
             border:1px solid #00ffff;
             color:#00ffff;
             border-radius:4px;
             text-align:center;
             font-family:'Courier New', monospace;
             outline:none;">
    X1QU3v
  </div>

  <!-- Check Button -->
  <button id="checkStatusBtn"
    style="padding:14px 22px;
           font-family:'Orbitron', sans-serif;
           font-size:13px;
           letter-spacing:2px;
           border-radius:8px;
           border:1px solid rgba(0,255,255,0.6);
           background:rgba(0,0,0,0.4);
           color:#00ffff;
           cursor:pointer;">
    CHECK STATUS
  </button>

</div>

<div id="linkStatus"
  style="margin-top:16px;
         text-align:center;
         font-family:'Courier New', monospace;
         font-size:14px;
         letter-spacing:1px;">
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const frag1 = document.getElementById("frag1");
    const frag2 = document.getElementById("frag2");
    const urlContainer = document.getElementById("urlContainer");
    const checkStatusBtn = document.getElementById("checkStatusBtn");
    const linkStatus = document.getElementById("linkStatus");

    function checkUrl() {
      const val1 = frag1.value.trim();
      const val2 = frag2.value.trim();

      if (val1 === "1TS0" && val2 === "w") {
        // Reconstruct the full URL and make it a highlighted clickable link
        const fullUrl = `https://drive.google.com/drive/u/0/folders/1TS0kR2ugPpRXNdHcDqmUoqwX1QU3v`;
        urlContainer.innerHTML = `<a href="${fullUrl}" target="_blank" style="color: #00ff9d; text-decoration: underline; font-weight: bold; font-family: 'Courier New', monospace; font-size: 16px; letter-spacing: 1px;">${fullUrl}</a>`;
        linkStatus.textContent = "URL reconstructed successfully! Link is now active.";
        linkStatus.style.color = "#00ff00";
      } else {
        linkStatus.textContent = "Invalid inputs. Try again.";
        linkStatus.style.color = "#ff4d4d";
      }
    }

    // Add listener to button for manual check
    checkStatusBtn.addEventListener("click", checkUrl);
  });
</script>

<div class="instruction">
  The path was restored.<br>The data is still hidden.
</div>

<button class="next-btn" onclick="nextStep('story-p5-bridge', 'step-p5')" style="margin: 20px auto 0; display: block; padding: 15px 30px; font-family: 'Orbitron', sans-serif; font-size: 14px; letter-spacing: 2px; border-radius: 8px; border: 1px solid rgba(0, 255, 255, 0.5); background: rgba(0, 255, 255, 0.1); color: #00ffff; cursor: pointer; transition: background 0.2s ease, box-shadow 0.2s ease;">
  SUBMIT
</button>

  </div>
</div>

<!-- PUZZLE 5: THE RIDDLE (FINAL) -->
<div class="section" id="step-p5">
  <div class="riddle-card">
    <div class="section-title">PUZZLE 5 — FINAL SYSTEM SYNC</div>
    <div class="riddle-text">
      The <input type="text" class="inline-input" id="input1" placeholder="ans 1"> <input type="text" class="inline-input" id="input2" placeholder="ans 2"> . Your <input type="text" class="inline-input" id="input3" placeholder="ans 3"> <input type="text" class="inline-input" id="input4" placeholder="ans 4"> . <input type="text" class="inline-input" id="input5" placeholder="ans 5"> .
    </div>

    <div class="instruction">Reconstruct the last server to solve the spekter.</div>
    <button class="submit-btn" id="submitBtn" onclick="submitRound1()">FINISH STORY & SUBMIT</button>
    <div class="submission-status" id="submissionStatus"></div>
  </div>
</div>

<!-- SUCCESS STEP -->
<div class="section" id="step-end">
    <div class="card" style="text-align:center;">
        <h1 style="color:#00ffff; font-family:'Orbitron'; margin-bottom:20px;">RECOVERY COMPLETE</h1>
        <p class="story-text">The system orientation has been restored. The Specter's trail continues elsewhere.</p>
    </div>
</div>


<script type="module" src="round1.js"></script>
</body>
</html>